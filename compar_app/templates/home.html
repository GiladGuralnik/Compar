{% extends "bootstrap/base.html" %}

{% block content %}
<div class="page-header">
<h1>Welcome To Compar!</h1>
</div>

<h2>Basic information</h2>
<form action="/" method="post">

    {% block scripts %}
    {{super()}}
    <script
    src="https://code.jquery.com/jquery-1.12.4.min.js"
    integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ="
    crossorigin="anonymous"></script>
    {% endblock %}

<div class="col-md-12" style="font-size:20px">
  <div class="form-row">
    <div class="form-group col-md-6">
        {{ main_form.work_dir.label }}
        {{ main_form.work_dir(size=40) }}
    </div>
  </div>
  <div class="form-group">

    {{ main_form.slum_params.label }}
    <div id="products"></div>
    <button id="add_slum_params" type="button">Add parameter</button>
  </div>
  <div class="form-group">
    {{ main_form.save.label }}
    {{ main_form.save() }}
  </div>
</div>
  <hr>
  <h2>Choose flags for parallel compilers:</h2>
  <div class="col-md-6" style="font-size:20px">
  <div class="form-row">
    <div class="form-group col-md-6">
      {{ comp_form.p4a.label }}
      {{ comp_form.p4a(size=32) }}
    </div>
    <div class="form-group col-md-6">
      {{ comp_form.autopar.label }}
      {{ comp_form.autopar(size=32) }}
    </div>
    <div class="form-group col-md-6">
      {{ comp_form.cetus.label }}
      {{ comp_form.cetus(size=32) }}
    </div>
  </div>
</div>
    <br>
<div class="col-md-6" style="font-size:20px">
    <div class="form-group">
        {{ main_form.make_file_choice.label }}
        {{ main_form.make_file_choice() }}
    </div>
</div>
<div class="col-md-12" style="font-size:25px">
  <div class="form-group">
           {{ main_form.submit1() }}
    </div>
</div>
</form>
{% if make_form %}
<hr>
<h2>Makefile:</h2>
<form action="/" method="post">
<div class="col-md-12" style="font-size:20px">
    <div class="form-row">
        <div class="form-group col-md-4">
            {{ make_form.input_dir.label }}
            {{ make_form.input_dir(size=40) }}
        </div>
        <div class="form-group col-md-4">
            {{ make_form.ignore.label }}
            {{ make_form.ignore(size=32) }}
        </div>
        <div class="form-group col-md-4">
            {{ make_form.include.label }}
            {{ make_form.include(size=32) }}
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-4">
            {{ make_form.make_commands.label }}
            {{ make_form.make_commands(size=40) }}
        </div>
        <div class="form-group col-md-4">
            {{ make_form.make_op.label }}
            {{ make_form.make_op(size=32) }}
        </div>
        <div class="form-group col-md-4">
            {{ make_form.make_on.label }}
            {{ make_form.make_on(size=32) }}
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-4">
            {{ make_form.main_file.label }}
            {{ make_form.main_file(size=40) }}
        </div>
        <div class="form-group col-md-4">
            {{ make_form.main_file_p.label }}<br>
            {{ make_form.main_file_p(size=32) }}
        </div>
        <div class="form-group col-md-4">
            {{ make_form.main_file_r_p.label }}
            {{ make_form.main_file_r_p(size=32) }}
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-2">
            {{ make_form.nas_file.label }}
            {{ make_form.nas_file() }}
        </div>
        <div class="form-group col-md-2" style="font-size:30px">
            <br>
            {{ start_form.submit3() }}
        </div>
    </div>
</div>

</form>
{% endif %}

{% if binary_comp_form %}
<h2>Choose binary compiler:</h2>
<form action="/" method="post">
<div class="col-md-12" style="font-size:20px">
    <div class="form-row">
        <div class="form-group col-md-4">
            {{ binary_comp_form.binary_comp_name.label }}
            {{ binary_comp_form.binary_comp_name(size=40) }}
        </div>
        <div class="form-group col-md-3">
            {{ binary_comp_form.binary_comp_version.label }}
            {{ binary_comp_form.binary_comp_version(size=32) }}
        </div>
        <div class="form-group col-md-2">
            {{ binary_comp_form.binary_comp_flags.label }}
            {{ binary_comp_form.binary_comp_flags(size=32) }}
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-4">
            {{ exists_file_form.exists_file.label }}
            {{ exists_file_form.exists_file() }}
        </div>
        <div class="form-group col-md-2" style="font-size:25px">
            <br>
            {{ exists_file_form.submit2() }}
        </div>
    </div>
 </div>

</form>
{% endif %}

{% if exists_c_file_form %}
<form action="/" method="post">
<div class="col-md-12" style="font-size:20px">
    <div class="form-row">
        <div class="form-group col-md-4">
            {{ exists_c_file_form.input_dir.label }}
            {{ exists_c_file_form.input_dir(size=40) }}
        </div>
        <div class="form-group col-md-3">
            {{ exists_c_file_form.main_file.label }}
            {{ exists_c_file_form.main_file(size=32) }}
        </div>
        <div class="form-group col-md-2">
            {{ exists_c_file_form.main_file_p.label }}
            {{ exists_c_file_form.main_file_p(size=32) }}
        </div>
    </div>
    <div class="form-row">
        <div class="form-group col-md-4">
            {{ exists_c_file_form.main_file_r_p.label }}
            {{ exists_c_file_form.main_file_r_p(size=40) }}
        </div>
        <div class="form-group col-md-2" style="font-size:25px">
            {{ exists_c_file_form.nas_file.label }}
            {{ exists_c_file_form.nas_file() }}
        </div>
        <div class="form-group col-md-2" style="font-size:30px">
            <br>
            {{ start_form.submit3() }}
        </div>
    </div>
 </div>
{% endif %}

{% if editor_c_form %}
    <div class="form-group col-md-6" style="font-size:20px">
    {{ editor_c_form.editor.label }}
    {{ editor_c_form.editor(cols="150", rows="15") }}
    </div>
    <div class="form-group col-md-8" style="font-size:30px">
        <br>
        {{ start_form.submit3() }}
    </div>
{% endif %}

</form>

<script>
    $(document).ready(function(){
        var count_item = 0;
        $("#add_slum_params").on("click", function(){
            count_item += 1;
            $("<input/>").attr({ type: "text", placeholder: "Enter slum parameters",
                name: "param_"+count_item}).appendTo("#slum_params").wrap($("<div/>"));
        });
    })
</script>

{% endblock %}